*:/spawn [$player='<me>'] = >>>
    if (has_permission('rccmd.spawn'), true, die(concat(color(RED), 'You do not have permission.')))
    assign(@player, $player)
    if (equals(@player, '<me>'),
        assign(@player, player()),
        if (has_permission('rccmd.spawn.other'), true, die(concat(color(RED), 'You do not have permission.')))
        true
    )
    assign(@world, pworld(@player))
    assign(@spawn, get_spawn(@world))
    assign(@loc, ploc(player()))
    assign(@x, floor(array_get(@loc,0)))
    assign(@y, floor(array_get(@loc,1)))
    assign(@z, floor(array_get(@loc,2)))
    msg(color(GOLD), 'You might want to remember your coordinates: ', color(RED), @x, ', ', @y, ', ', @z, '.')
    if (not(is_numeric(@spawn_warmup)), 
        msg(color(GRAY), 'Teleporting you to spawn...')
        set_ploc(@player, @spawn),
        msg(color(GRAY), 'Teleporting you to spawn in ', @spawn_warmup, ' seconds...')
        set_timeout(multiply(@spawn_warmup, 1000), closure(set_ploc(@player, @spawn)))
    )
<<<


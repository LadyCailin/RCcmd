*:/spawn [$player='<me>'] = >>>
    _checkforperm('spawn')
    assign(@player, $player)
    if (equals(@player, '<me>'),
        assign(@player, player()),
        _checkforperm('spawn.other')
        true
    )
    assign(@world, pworld(@player))
    assign(@spawn, get_spawn(@world))
    assign(@loc, ploc(player()))
    assign(@x, floor(array_get(@loc,0)))
    assign(@y, floor(array_get(@loc,1)))
    assign(@z, floor(array_get(@loc,2)))
    msg(color(GOLD), 'You might want to remember your coordinates: ', color(RED), @x, ', ', @y, ', ', @z, '.')
    if (equals(@spawn_warmup, '0'), 
        msg(color(GRAY), 'Teleporting you to spawn...'),
        msg(color(GRAY), 'Teleporting you to spawn in ', @timeout, ' seconds...')
        set_timeout(multiply(@timeout, 1000), closure(set_ploc(@player, @spawn)))
    )
<<<


*:/listbans = >>>
    include('lib.library/config.msa')
    if (has_permission('rccmd.ban.list'), true, die(concat(color(RED), 'You do not have permission.')))
    assign(@bans, get_banned_players())
    assign(@bl, 'Banned players: ')
    foreach(@bans, @p,
        assign(@bl, concat(@bl, @p, ' '))
    )
    include('lib.library/config.msa')
    assign(@ipbans, parse_args(replace(read(@bannedips_file), '\n', ' ')))
    assign(@ipbl, 'Banned IPs: ')
    foreach(@ipbans, @ip,
        assign(@ipbl, concat(@ipbl, @ip, ' '))
    )
    msg(concat(@bl, '\n', @ipbl, '\nYou can see reasons for any of these bans by typing /banreason <player>'))
<<<
*:/bans = call_alias(/listbans)
*:/banlist = call_alias(/listbans)

*:/isbanned = /help isbanned
*:/isbanned $player = >>>
    include('lib.library/config.msa')
    if (has_permission('rccmd.ban.check'), true, die(concat(color(RED), 'You do not have permission.')))
    assign(@player, $player)
    if (pbanned(@player), msg(concat(color(GOLD), @player, color(WHITE), ' is banned.')), msg(concat(color(GOLD), @player, color(WHITE), ' is not banned.')))
<<<

*:/ban [$player='<noone>'] [$='<noreason>'] = >>>
    include('lib.library/config.msa')
    if (has_permission('rccmd.ban'), true, die(concat(color(RED), 'You do not have permission.')))
    assign(@player, $player)
    assign(@reason, $)
    if (equals(@player, '<noone>'),
        die(call_alias('/help ban')),
        true
    )
    if (equals(@reason, '<noreason>'),
        assign(@reason, @default_ban_reason)
    )
    store_value(concat('banreason.', @player), @reason)
    kick(@player, @reason)
    set_pbanned(@player, true)
    if (equals(@broadcast_ban, 'true'),
        broadcast(concat(color(GOLD), @player, color(WHITE), ' has been ', color(RED), 'banned ', color(WHITE), 'by ', color(GOLD), player(), color(WHITE), '!\n', color(GOLD), 'Reason: ', color(WHITE), @reason)),
        true
    )
    
<<<

#*:/banip [$ip='<noone>'] [$='<noreason>'] = >>>
#    include('lib.library/config.msa')
#    if (has_permission('rccmd.ban.ip'), true, die(concat(color(RED), 'You do not have permission.')))
#    assign(@ip, $ip)
#    assign(@reason, $)
#    if (equals(@player, '<noone>'),
#        die(call_alias('/help banip')),
#        true
#    )
#    if (equals(@reason, '<noreason>'),
#        assign(@reason, @default_ban_reason)
#    )
#    store_value(concat('banreason.', replace(@ip, '.', '_'), @reason)
#    kick(@player, @reason)
#    set_pbanned(@player, true)
#    if (equals(@broadcast_ip_ban, 'true'),
#        broadcast(concat(color(GOLD), @ip, color(WHITE), ' has been ', color(RED), 'banned ', color(WHITE), 'by ', color(GOLD), player(), color(WHITE), '!\n', color(GOLD), 'Reason: ', color(WHITE), @reason)),
#        true
#    )
#    
#<<<

*:/unban [$player='<noone>'] = >>>
    include('lib.library/config.msa')
    if (has_permission('rccmd.ban.unban'), true, die(concat(color(RED), 'You do not have permission.')))
    assign(@player, $player)
    if (equals(@player, '<noone>'),
        die(call_alias('/help ban')),
        true
    )
    set_pbanned(@player, false)
    include('lib.library/config.msa')
    if (equals(@broadcast_unban, 'true'),
        broadcast(concat(color(GOLD), @player, color(WHITE), ' has been ', color(GREEN), 'unbanned ', color(WHITE), 'by ', color(GOLD), player(), color(WHITE), '!')),
        true
    )
    
<<<

*:/pardon = call_alias(/unban)

*:/banreason [$player='<noone>'] = >>>
    include('lib.library/config.msa')
    if (has_permission('rccmd.ban.reason'), true, die(concat(color(RED), 'You do not have permission.')))
    assign(@player, $player)
    assign(@reason, get_value(concat('banreason.', @player)))
    if (equals(@player, '<noone>'),
        die(call_alias('/help banreason')),
        true
    )
    msg(concat(color(GOLD), @player, color(YELLOW), 'was banned for: ', color(GOLD), @reason))
<<<

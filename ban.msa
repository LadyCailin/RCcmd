*:/listbans = >>>
    _checkforperm('ban.list')
    assign(@bans, get_banned_players())
    assign(@bl, 'Banned players: ')
    foreach(@bans, @p,
        assign(@bl, concat(@bl, @p, ' '))
    )
    assign(@ipbans, parse_args(replace(read('../../../banned-ips.txt'), '\n', ' ')))
    assign(@ipbl, 'Banned IPs: ')
    foreach(@ipbans, @ip,
        assign(@ipbl, concat(@ipbl, @ip, ' '))
    )
    msg(@ipbl)
    msg(@bl)
<<<
*:/bans = call_alias(/listbans)
*:/banlist = call_alias(/listbans)

*:/isbanned = /help isbanned
*:/isbanned $player = >>>
    _checkforperm('ban.check')
    assign(@player, $player)
    if (pbanned(@player), msg(concat(color(GOLD), @player, color(WHITE), ' is banned.')), msg(concat(color(GOLD), @player, color(WHITE), ' is not banned.')))
<<<

*:/ban [$player='<noone>'] [$='<noreason>'] = >>>
    _checkforperm('ban')
    assign(@player, $player)
    assign(@reason, $)
    if (equals(@player, '<noone>'),
        die(call_alias('/help ban')),
        true
    )
    if (equals(@reason, '<noreason>'),
        assign(@reason, @default_ban_reason)
    )
    kick(@player, @reason
    set_pbanned(@player, true)
    if (equals(@broadcast_ban, 'true')
        broadcast(concat(color(GOLD), @player, color(WHITE), ' has been ', color(RED), 'banned ', color(WHITE), 'by ', color(GOLD), player(), color(WHITE), '!\n', color(GOLD), 'Reason: ', color(WHITE), @reason)),
        true
    )
    
<<<

*:/unban [$player='<noone>'] = >>>
    _checkforperm('ban.unban')
    assign(@player, $player)
    if (equals(@player, '<noone>'),
        die(call_alias('/help ban')),
        true
    )
    set_pbanned(@player, false)
    if (equals(@broadcast_unban, 'true')
        broadcast(concat(color(GOLD), @player, color(WHITE), ' has been ', color(GREEN), 'unbanned ', color(WHITE), 'by ', color(GOLD), player(), color(WHITE), '!')),
        true
    )
    
<<<

*:/pardon = call_alias(/unban)

